Step 1: run ngrok with ngrok start --all --config ngrok.yml

Step 2: add the TCP of ngrok to domain CNAME 

Step 3: Generate the Certificate Thumbprint with Get-PfxCertificate -FilePath Certificate.pfx 

Or 

openssl pkcs12 -info -in Certificate.pfx

Step 4: Add the certificate thumbprint to the config.json

Step 5: Run code

dotnet run --project src\EchoBot\EchoBot.csproj

APPID : 9657b187-2994-4568-90ce-d3cebbf18da8
DisplayName: POP Bot     
ObjectId: 69779687-6501-4380-9af0-80b674e3ce9d             
TenantId: e44afcaf-ee13-4e7b-b0fc-8914d754ecfe 
UserPrincipalName: bot@mypop.ai
policyIdentity for recording policy: mypoprecoding
APP Secret: kJJ8Q~D61HjSsMTo83Pg7pi~yxzR1UEuN26mnc.L


Set-CsTeamsComplianceRecordingPolicy -Identity mypoprecoding -ComplianceRecordingApplications ` @(New-CsTeamsComplianceRecordingApplication -Parent mypoprecoding -Id 69779687-6501-4380-9af0-80b674e3ce9d)

Grant-CsTeamsComplianceRecordingPolicy -Identity bot@mypop.ai -PolicyName mypoprecoding

DNS Name: mypopaibot.cloudapp.net

https://learn.microsoft.com/en-us/azure/cloud-services/cloud-services-certs-create


.\configure_cloud.ps1 -p .\V1.0Samples\LocalMediaSamples\PolicyRecordingBot\ -dns mypopaibot.cloudapp.net -cn mypopaibot.cloudapp.net -thumb 25338BC60FC626A7B88B0826E64D8FCBC1EA7B15 -bid "POP Bot" -aid 9657b187-2994-4568-90ce-d3cebbf18da8 -as kJJ8Q~D61HjSsMTo83Pg7pi~yxzR1UEuN26mnc.L


$cert = New-SelfSignedCertificate -DnsName mypopaibot.cloudapp.net -CertStoreLocation ".\" -KeyLength 2048 -KeySpec "KeyExchange"
$password = ConvertTo-SecureString -String "mypopaibot" -Force -AsPlainText
Export-PfxCertificate -Cert $cert -FilePath ".\certyy.pfx" -Password $password


https://teams.microsoft.com/l/meetup-join/19%3ayJrRlTiLBE0ByajJVurQd2mDTi7XTTynU53GlUspIw01%40thread.tacv2/1707410051387?context=%7b%22Tid%22%3a%22e44afcaf-ee13-4e7b-b0fc-8914d754ecfe%22%2c%22Oid%22%3a%22b38752e8-ded8-4dee-bb40-a31edea60ef2%22%7d